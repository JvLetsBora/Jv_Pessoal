<!DOCTYPE html>
<html>
<head>
  <title>Upload de Imagem</title>
  <style>
    img {
      max-width: 300px;
      max-height: 300px;
    }
  </style>
  <script>
    
    function envia() {
        var file = document.querySelector('input[type=file]').files[0];
        console.log(file)
        var url = 'https://api.example.com/upload'; // substitua com a URL da API real
        fetch(url, {
            method: 'POST',
            body: file
        })
        .then(response => response.json())
        .then(data => {
            var imageUrl = data.imageUrl; // supondo que a API retorna um objeto com a propriedade 'imageUrl'
            console.log('URL da imagem:', imageUrl);
            // FaÃ§a o que desejar com o URL da imagem obtido aqui
        })
        .catch(error => {
            console.error('Erro ao obter URL da imagem:', error);
        });
            
          }
    function previewImage() {
      var preview = document.getElementById('img_upload');
      var file = document.querySelector('input[type=file]').files[0];
      var btn = document.querySelector('sumi')
      var reader = new FileReader();

      
      reader.onloadend = function() {
        preview.src = reader.result;
        sumi.style.display = "block"
      }

      if (file) {
        reader.readAsDataURL(file);
       
      } else {
        preview.src = "";
      }


    }
  </script>
</head>
<body style="display: flex; gap: 25%;">
    <div id="main">
        <h1>Upload de Imagem</h1>
        <input type="file" accept="image/*" onchange="previewImage()">
        <br>
        <img id="img_upload" src="" alt="Imagem selecionada">
        <button  id="sumi" style="display: none;" onclick="envia()"> Enviar </button>
    </div>
    <div>
        <h1>Imagem Processada</h1>
        <img id="img_load" src="" alt="Imagem selecionada">
    </div>
  
</body>
</html>
