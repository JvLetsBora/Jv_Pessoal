<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="fastapitutorial.com" content="Nofoobar">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">

    <title>Upload de Imagem</title>
    <style>
      img {
        max-width: 300px;
        max-height: 300px;
      }
    </style>
    <script>
      
      function envia() {
          var file = document.querySelector('input[type=file]').files[0];
          console.log(file)
          var url = 'https://api.example.com/upload'; // substitua com a URL da API real
          fetch(url, {
              method: 'POST',
              body: file
          })
          .then(response => response.json())
          .then(data => {
              var imageUrl = data.imageUrl; // supondo que a API retorna um objeto com a propriedade 'imageUrl'
              console.log('URL da imagem:', imageUrl);
              // FaÃ§a o que desejar com o URL da imagem obtido aqui
          })
          .catch(error => {
              console.error('Erro ao obter URL da imagem:', error);
          });
              
            }
      function previewImage() {
        var preview = document.getElementById('img_upload');
        var file = document.querySelector('input[type=file]').files[0];
        var btn = document.querySelector('sumi')
        var reader = new FileReader();
  
        
        reader.onloadend = function() {
          preview.src = reader.result;
          sumi.style.display = "block"
        }
  
        if (file) {
          reader.readAsDataURL(file);
         
        } else {
          preview.src = "";
        }
  
  
      }
    </script>

    {% block title %}
    {% endblock %}
</head>

<body style="display: flex; gap: 25%;">
    {% block content %}
    {% endblock %}

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
    {% block scripts %}
    {% endblock %}


</body>
</html>